import{f as N,u as X,g as P,h as Z,j as ee,t as oe,i as te,k as R,l as w,m as e,n as se,w as ne,s as ae,R as I,p as me,q as ie,v as le,x as re,y as he,z as M,A as T,B as de,C as pe,D as ce,E as ue,L as ye,F as ge,G as ve,H as fe,I as $,J as xe,K as z}from"./app-BGnFyzIQ.js";const ke=["/","/intro.html","/posts/tomato.html","/posts/marketing/2025-05-31-marketing-01-overview.html","/posts/marketing/2025-05-31-marketing-02-leijun.html","/posts/marketing/2025-05-31-marketing-04-long-tail-effect.html","/posts/marketing/2025-05-31-marketing-05-head-effect.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-00-overview.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-01-user-analysis.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-02-competive-product-analysis.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-03-super-symbols.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-04-visual-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-05-content-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-06-channel-wechat-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-07-channel-video-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-08-channel-techs-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-09-channel-underline-online-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-10-fission-sprint-system.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-11-fission-sprint-break-border.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-12-fission-sprint-data-drive.html","/posts/company/2025-03-23-company-department-001-low-risk-of-start-a-biz.html","/posts/company/2025-03-23-company-department-001-overview.html","/posts/company/2025-03-23-company-department-001-the-income-limit-of-new-company.html","/posts/company/2025-03-23-company-department-001-the-software-lifecycle.html","/posts/company/2025-03-23-company-department-001-the-step-of-new-company.html","/posts/company/2025-03-23-company-department-002-bigdata-01-overview.html","/posts/company/2025-03-23-company-department-002-bigdata-02-recommder-systems.html","/posts/company/2025-03-23-company-department-002-bigdata-03-stat-systems.html","/posts/company/2025-03-23-company-department-003-middleware-01-overview.html","/posts/company/2025-03-23-company-department-004-risk-01-overview.html","/posts/company/2025-03-23-company-department-005-integration-cross-01-overview.html","/posts/company/2025-03-23-company-department-006-architecture-review-01-overview.html","/posts/company/2025-03-23-company-department-007-cloud-native-01-overview.html","/posts/company/2025-03-23-company-department-008-dba-01-overview.html","/posts/company/2025-03-23-company-department-009-pay-core-01-overview.html","/posts/company/2025-03-23-company-department-010-mer-server-01-overview.html","/posts/company/2025-03-23-company-department-011-test-01-overview.html","/posts/company/2025-03-23-company-department-012-qa-01-overview.html","/posts/company/2025-03-23-company-department-013-ci-01-overview.html","/posts/company/2025-03-23-company-department-014-measure-01-overview.html","/posts/company/2025-03-23-company-department-015-monitor-01-overview.html","/posts/company/2025-03-23-company-department-016-ops-dev-01-overview.html","/posts/company/2025-03-23-company-department-017-sec-01-overview.html","/posts/company/2025-03-23-company-department-018-net-01-overview.html","/posts/company/2025-03-23-company-department-019-location-01-overview.html","/posts/company/2025-03-23-company-department-020-jobs-01-overview.html","/posts/methodsandmodel/2025-03-14-why-work-make-money.html","/posts/methodsandmodel/2025-03-17-think-002-value-of-software.html","/posts/methodsandmodel/2025-03-17-think-003-value-of-coder.html","/posts/methodsandmodel/2025-03-17-think-005-moat-of-coder.html","/posts/methodsandmodel/2025-03-17-think-006-moat-of-software-company.html","/posts/methodsandmodel/2025-03-17-think-007-how-to-reverse-value.html","/posts/methodsandmodel/2025-03-17-think-008-core-ability.html","/posts/methodsandmodel/2025-03-17-think-009-build-products.html","/posts/methodsandmodel/2025-03-17-think-010-build-products-to-get-more-reader.html","/posts/methodsandmodel/2025-03-17-think-011-build-products-profit.html","/posts/methodsandmodel/2025-03-17-think-012-new-tech-how-to-learn.html","/posts/methodsandmodel/2025-03-17-think-013-new-tech-how-to-learn-grow.html","/posts/methodsandmodel/2025-03-17-think-013-new-tech-how-to-learn-smart.html","/posts/methodsandmodel/2025-03-17-think-014-new-tech-how-to-learn-feiman.html","/posts/methodsandmodel/2025-03-17-think-015-new-tech-how-to-learn-leida.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-AHP.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-ALMA.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-ALPSM.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-ATAM.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-CBAM.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-PBAR.html","/posts/methodsandmodel/2025-03-17-think-104-architecture-review-methods-SAAM.html","/posts/methodsandmodel/2025-03-17-think-109-make-wheel.html","/posts/methodsandmodel/2025-03-17-think-110-ecology-how-to.html","/posts/methodsandmodel/2025-03-17-think-200-think-model-overview.html","/posts/methodsandmodel/2025-03-17-think-201-think-model-TIME.html","/posts/methodsandmodel/2025-03-17-think-202-think-feiman-learn.html","/posts/methodsandmodel/2025-03-17-think-300-methodology-01-overview.html","/posts/methodsandmodel/2025-03-17-think-300-methodology-05-sop-intro.html","/posts/methodsandmodel/2025-03-17-think-300-methodology-end-to-end.html","/posts/methodsandmodel/2025-03-17-think-301-methodology-flywheel.html","/posts/methodsandmodel/2025-03-17-think-302-methodology-02-okr-intro.html","/posts/methodsandmodel/2025-03-17-think-302-methodology-03-kpi-intro.html","/posts/methodsandmodel/2025-03-17-think-302-methodology-04-category-memc-intro.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-01-intro.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-02-basic-component.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-03-cycle-confirm.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-04-person-ability.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-05-software-company-ability.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-06-core-ability.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-07-input-board.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-08-input-depth.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-09-input-qa.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-01-input-methods-divides-sources.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-02-input-methods-filter.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-03-input-methods-meta-monitor.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-input-ganzhili.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-11-handle-think-model.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-20-output-types.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-21-output-influence.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-22-output-execute-improve.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-23-close-cycle.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-30-think-model-first-principles.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-31-think-model-criticle-thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-32-think-model-meta.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-33-think-model-cause-mapping.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-34-think-model-system-thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-35-think-model-system-kg.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-36-think-model-mind-map.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-37-think-model-Hypothesis-Driven-Thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-38-think-model-cause-chain-analysis.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-39-think-model-Bayesian-Thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-40-think-model-Pyramid%20Principle.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-41-think-model-framework-thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-42-think-model-data-visual.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-43-think-model-actional-output.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-44-think-model-PDCA.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-45-think-model-review.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-46-think-model-CI.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-47-think-model-DAMIC.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-48-think-model-20-vs-80.html","/posts/moive/2025-04-21-moive-when-life-gives-you-tangerines-and-career-planning.html","/posts/money/2025-03-24-earn-money-plateform-learn-00-overview.html","/posts/money/2025-03-24-earn-money-plateform-learn-resource-00-overview.html","/posts/money/2025-03-24-earn-money-plateform-source-code-00-overview.html","/posts/money/2025-04-20-currency-00-overview.html","/posts/money/2025-04-20-currency-01-money-intro.html","/posts/money/2025-04-20-currency-02-fixed-deposit-or-current-deposit.html","/posts/money/2025-04-20-currency-03-stock-intro.html","/posts/money/2025-04-20-currency-04-fund-intro.html","/posts/money/2025-04-20-currency-05-bond-intro.html","/posts/money/2025-04-20-currency-06-insurance-intro.html","/posts/money/2025-04-20-currency-07-Financial-Derivatives-intro.html","/posts/money/2025-04-20-currency-08-assets-intro.html","/posts/money/2025-04-20-currency-09-balance-sheet-intro.html","/posts/money/2025-04-20-currency-10-gold-price.html","/posts/money/2025-04-20-currency-11-petroleum-intro.html","/posts/money/2025-04-20-currency-12-commodity-trading-intro.html","/posts/money/2025-04-20-currency-20-investment-method-fixed.html","/posts/money/2025-04-20-currency-21-investment-asset-allocation-10w.html","/posts/money/2025-04-20-currency-22-investment-portfolio.html","/posts/money/2025-04-20-currency-23-investment-risk-control.html","/posts/money/2025-04-20-currency-24-investment-risk-hedging.html","/posts/money/2025-04-20-currency-25-currency-issue.html","/posts/money/2025-04-20-currency-26-currentcy-value.html","/posts/money/2025-07-28-life-about-money-03-max-profit.html","/posts/money/2025-07-28-life-about-money-04-risk-control.html","/posts/money/2025-07-28-life-about-money-05-combine-opt.html","/posts/money/2025-07-28-life-about-money-10-level.html","/posts/money/2025-07-28-life-about-money.html","/posts/money/2025-07-28-life-person-develop-logic.html","/posts/money/2025-07-28-life-person-develop.html","/posts/notes/2025-02-03-lmxxf-zezha2-moive-thinking.html","/posts/notes/2025-02-04-lmxxf-ai-chinese-dead-history.html","/posts/notes/2025-02-04-lmxxf-ai-find-the-goal-of-life.html","/posts/notes/2025-02-04-lmxxf-ai-fuyou.html","/posts/notes/2025-02-04-lmxxf-ai-go-and-why-we-lost-jobs.html","/posts/notes/2025-02-04-lmxxf-ai-good-bad-standard.html","/posts/notes/2025-02-04-lmxxf-ai-how-to-achieve-goal.html","/posts/notes/2025-02-04-lmxxf-ai-how-to-avoid-worry.html","/posts/notes/2025-02-04-lmxxf-ai-junzhihuigui.html","/posts/notes/2025-02-04-lmxxf-ai-law.html","/posts/notes/2025-02-04-lmxxf-ai-poem-libai.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-lihongzhang.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-linzexu.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-zengguofan.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-zhangzhidong.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-zuozongtang.html","/posts/notes/2025-02-04-lmxxf-ai-the-least-person.html","/posts/notes/2025-02-04-lmxxf-ai-the-way-not-select.html","/posts/notes/2025-02-04-lmxxf-ai-tx-38-special-day.html","/posts/notes/2025-02-04-lmxxf-ai-tx-yuanbao.html","/posts/notes/2025-02-04-lmxxf-ai-why-big-car-turn-right-need-stop.html","/posts/notes/2025-02-04-lmxxf-ai-why-we-forget.html","/posts/notes/2025-02-04-lmxxf-ai-zuiyouzhitinglilun.html","/posts/notes/2025-02-04-lmxxf-tech-view-world-road-and-lock.html","/posts/notes/2025-02-12-lmxxf-chinese-festival-yuanxiaojie.html","/posts/notes/2025-06-21-poor-need-a-child.html","/posts/notes/2025-07-11-japan-tips.html","/posts/travel/2025-05-11-go-around-china-01-overview.html","/posts/travel/2025-05-11-go-around-china-02-xibei-xinan.html","/posts/travel/2025-05-11-go-around-china-03-digit-nomad-intro.html","/posts/travel/2025-05-11-go-around-china-04-remote-work-intro.html","/posts/travel/2025-05-11-go-around-china-05-wemedia-intro.html","/posts/travel/2025-05-11-go-around-china-06-other-income-intro.html","/posts/travel/2025-05-11-go-around-china-07-other-income-ways.html","/posts/xmbiz/2025-02-05-xiaomashangtu-123-hangye.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-antifragile-all-jobs.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-marry-fuxk-the-disadvantange-of-marry.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-marry-the-advantange-of-marry.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-product-how-to-buy-for-your-girlfriend.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-product-why-books-is-cheap.html","/posts/xmbiz/2025-02-05-xiaomashangtu-biz-eye-to-see-masiluo-theory.html","/posts/xmbiz/2025-02-05-xiaomashangtu-biz-eye-to-see-masiluo-work-category.html","/posts/xmbiz/2025-02-05-xiaomashangtu-mvp.html","/posts/xmbiz/2025-02-05-xiaomashangtu-online-shopping-no-inventory-model.html","/posts/xmbiz/2025-02-05-xiaomashangtu-online-shopping-plateform-select.html","/posts/xmbiz/2025-02-05-xiaomashangtu-online-shopping-product-items-select.html","/posts/xmbiz/2025-02-05-xiaomashangtu-product-all-lifecycle.html","/posts/xmbiz/2025-02-05-xiaomashangtu-solve-problem-good-better-best.html","/posts/xmbiz/2025-02-05-xiaomashangtu-solve-problem-so-get-money.html","/posts/xmreading/2025-02-09-5min-read-books-000-how-to-read-booking-notes.html","/posts/xmreading/2025-02-09-5min-read-books-000-reading-publish-plateform.html","/posts/xmreading/2025-02-09-5min-read-books-000-top200.html","/posts/xmreading/2025-02-09-5min-read-books-001-changandelizhi-10-sentence.html","/posts/xmreading/2025-02-09-5min-read-books-002-three-body.html","/posts/xmreading/2025-02-09-5min-read-books-003-mingchaonaxieshi.html","/posts/xmreading/2025-02-09-5min-read-books-004-huozhe.html","/posts/xmreading/2025-02-09-5min-read-books-005-pingfandeshijie.html","/posts/xmreading/2025-02-09-5min-read-books-006-zhuifengzhengderen.html","/posts/xmreading/2025-02-09-5min-read-books-007-nanjingdatusha.html","/posts/xmreading/2025-02-09-5min-read-books-008-shasiyizhizhigengniao.html","/posts/xmreading/2025-02-09-5min-read-books-009-bailuyuan.html","/posts/xmreading/2025-02-09-5min-read-books-010-baiyexing.html","/posts/xmreading/2025-02-09-5min-read-books-011-womensan.html","/posts/xmreading/2025-02-09-5min-read-books-012-xiaowangzi.html","/posts/xmreading/2025-02-09-5min-read-books-013-yigexiaoouweidenanrenjuedingqusi.html","/posts/xmreading/2025-02-09-5min-read-books-014-zhishenshinei.html","/posts/xmreading/2025-02-09-5min-read-books-015-juejiao.html","/posts/xmreading/2025-02-09-5min-read-books-016-weicheng.html","/posts/xmreading/2025-02-09-5min-read-books-017-hamaxianshengqukanxinliyisheng.html","/posts/xmreading/2025-02-09-5min-read-books-018-xiangeiaerjinongdehuashu.html","/posts/xmreading/2025-02-09-5min-read-books-019-renzhijuexing.html","/posts/xmreading/2025-02-09-5min-read-books-020-banxiaoshimanhuashiji.html","/posts/xmreading/2025-02-09-5min-read-books-021-xusanguanmaixueji.html","/posts/xmreading/2025-02-09-5min-read-books-022-woyuditan.html","/posts/xmreading/2025-02-09-5min-read-books-023-damingwangchao1566.html","/posts/xmreading/2025-02-09-5min-read-books-024-shengsipilao.html","/posts/xmreading/2025-02-09-5min-read-books-025-hongloumeng.html","/posts/xmreading/2025-02-09-5min-read-books-026-shuihuzhuan.html","/posts/xmreading/2025-02-09-5min-read-books-027-sanguoyanyi.html","/posts/xmreading/2025-02-09-5min-read-books-028-mingyun.html","/posts/xmreading/2025-02-09-5min-read-books-029-xidaduo.html","/posts/xmreading/2025-02-09-5min-read-books-030-shenghuomengtaiqi.html","/posts/xmreading/2025-02-09-5min-read-books-031-qiuyuan.html","/posts/xmreading/2025-02-09-5min-read-books-032-jidushanbojue.html","/posts/xmreading/2025-02-09-5min-read-books-033-daikedeshelishidarendexinzang.html","/posts/xmreading/2025-02-09-5min-read-books-034-bainiangudu.html","/posts/xmreading/2025-02-09-5min-read-books-035-taibaijinxingyoudianfan.html","/posts/xmreading/2025-02-09-5min-read-books-036-yexunizhengaizhaogerenliaoliao.html","/posts/xmreading/2025-02-09-5min-read-books-037-muguang.html","/posts/xmreading/2025-02-09-5min-read-books-038-qiuzhuangsandian.html","/posts/xmreading/2025-02-09-5min-read-books-039-rensheng.html","/posts/xmreading/2025-02-09-5min-read-books-040-fangsiqidechulianleyuan.html","/posts/xmreading/2025-02-09-5min-read-books-041-renleijianshi.html","/posts/xmreading/2025-02-09-5min-read-books-042-beicanshijie.html","/posts/xmreading/2025-02-09-5min-read-books-043-hamuleite.html","/posts/xmreading/2025-02-09-5min-read-books-044-eyi.html","/posts/xmreading/2025-02-09-5min-read-books-045-fazhidexijie.html","/posts/xmreading/2025-02-09-5min-read-books-046-renshenghaihai.html","/posts/xmreading/2025-02-09-5min-read-books-047-daishangtadeyanjing.html","/posts/xmreading/2025-02-09-5min-read-books-048-chushijianzhuan.html","/posts/xmreading/2025-02-09-5min-read-books-049-beitaoyandeyongqi.html","/posts/xmreading/2025-02-09-5min-read-books-050-xiangxin.html","/posts/xmreading/2025-02-09-5min-read-books-999-antifragile.html","/posts/xmreading/2025-02-09-5min-read-books-tips-01-improve-fensi-to-100.html","/posts/xmreading/2025-02-09-5min-read-books-tips-02-to-make-it-funny.html","/404.html","/posts/","/posts/marketing/","/posts/fans/","/posts/company/","/posts/methodsandmodel/","/posts/moive/","/posts/money/","/posts/notes/","/posts/travel/","/posts/xmbiz/","/posts/xmreading/","/category/","/category/%E8%94%AC%E8%8F%9C/","/category/marketing/","/category/fans/","/category/think/","/category/talk/","/category/life/","/category/note/","/category/money/","/category/lmxxf/","/category/business/","/category/reading/","/tag/","/tag/test/","/tag/marketing/","/tag/overview/","/tag/sh/","/tag/life/","/tag/note/","/tag/think/","/tag/software/","/tag/company/","/tag/department/","/tag/talk/","/tag/bigdata/","/tag/learn/","/tag/methodology/","/tag/career-planning/","/tag/moive/","/tag/money/","/tag/financial/","/tag/bold/","/tag/asset/","/tag/thinking/","/tag/ai/","/tag/person/","/tag/tech-view/","/tag/cross-view/","/tag/reading/","/tag/book/","/tag/5min/","/tag/biz/","/article/","/star/","/timeline/"],be="SLIMSEARCH_QUERY_HISTORY",v=$(be,[]),we=()=>{const{queryHistoryCount:n}=z;return{enabled:n>0,queryHistories:v,addQueryHistory:l=>{v.value=Array.from(new Set([l,...v.value.slice(0,n-1)]))},removeQueryHistory:l=>{v.value=[...v.value.slice(0,l),...v.value.slice(l+1)]}}},S=n=>ke[n.id]+("anchor"in n?`#${n.anchor}`:""),ze="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:F}=z,f=$(ze,[]),qe=()=>({enabled:F>0,resultHistories:f,addResultHistory:i=>{{const l={link:S(i),display:i.display};"header"in i&&(l.header=i.header),f.value=[l,...f.value.slice(0,F-1)]}},removeResultHistory:i=>{f.value=[...f.value.slice(0,i),...f.value.slice(i+1)]}}),je=n=>{const i=de(),l=P(),q=pe(),a=R(0),x=w(()=>a.value>0),d=ce([]);return ue(()=>{const{search:j,terminate:u}=ye(),k=ve(y=>{const{resultsFilter:H=s=>s,querySplitter:g,suggestionsFilter:D,...m}=i.value;y?(a.value+=1,j(y,l.value,m).then(s=>H(s,y,l.value,q.value)).then(s=>{a.value-=1,d.value=s}).catch(s=>{console.warn(s),a.value-=1,a.value||(d.value=[])})):d.value=[]},z.searchDelay-z.suggestDelay,{maxWait:5e3});ge([n,l],([y])=>k(y.join(" "))),fe(()=>{u()})}),{isSearching:x,results:d}};var Ae=N({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(n,{emit:i}){const l=X(),q=P(),a=Z(ee),{addQueryHistory:x,queryHistories:d,removeQueryHistory:j}=we(),{resultHistories:u,addResultHistory:k,removeResultHistory:y}=qe(),H=oe(n,"queries"),{results:g,isSearching:D}=je(H),m=te({isQuery:!0,index:0}),s=R(0),p=R(0),L=w(()=>d.value.length>0||u.value.length>0),A=w(()=>g.value.length>0),C=w(()=>g.value[s.value]||null),B=()=>{const{isQuery:o,index:t}=m;t===0?(m.isQuery=!o,m.index=o?u.value.length-1:d.value.length-1):m.index=t-1},U=()=>{const{isQuery:o,index:t}=m;t===(o?d.value.length-1:u.value.length-1)?(m.isQuery=!o,m.index=0):m.index=t+1},_=()=>{s.value=s.value>0?s.value-1:g.value.length-1,p.value=C.value.contents.length-1},O=()=>{s.value=s.value<g.value.length-1?s.value+1:0,p.value=0},Y=()=>{p.value<C.value.contents.length-1?p.value+=1:O()},G=()=>{p.value>0?p.value-=1:_()},Q=o=>o.map(t=>xe(t)?t:e(t[0],t[1])),J=o=>{if(o.type==="customField"){const t=re[o.index]||"$content",[c,r=""]=he(t)?t[q.value].split("$content"):t.split("$content");return o.display.map(h=>e("div",Q([c,...h,r])))}return o.display.map(t=>e("div",Q(t)))},b=()=>{s.value=0,p.value=0,i("updateQuery",""),i("close")},K=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},a.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},d.value.map((o,t)=>{const c=m.isQuery&&m.index===t;return e("li",{class:["slimsearch-record-matches",{active:c}],role:"option","aria-selected":c,onClick:()=>{i("updateQuery",o)}},e("div",[e(M,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},o),e("button",{type:"button",class:"slimsearch-remove-icon",title:a.value.remove,"aria-label":a.value.remove,innerHTML:T,onClick:r=>{r.preventDefault(),r.stopPropagation(),j(t)}})]))}))])),V=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},a.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},u.value.map((o,t)=>{const c=!m.isQuery&&m.index===t;return e("li",{class:["slimsearch-record-matches",{active:c}],role:"option","aria-selected":c},e(I,{to:o.link,onClick:()=>{b()}},()=>[e(M,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[o.header?e("div",{class:"slimsearch-record-content-header"},o.header):null,e("div",o.display.map(r=>Q(r)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:a.value.remove,"aria-label":a.value.remove,innerHTML:T,onClick:r=>{r.preventDefault(),r.stopPropagation(),y(t)}})]))}))]));return se("keydown",o=>{if(n.isFocusing){if(A.value){if(o.key==="ArrowUp")G();else if(o.key==="ArrowDown")Y();else if(o.key==="Enter"){const t=C.value.contents[p.value];x(n.queries.join(" ")),k(t),l.push(S(t)),b()}}else if(o.key==="ArrowUp")B();else if(o.key==="ArrowDown")U();else if(o.key==="Enter"){const{index:t}=m;m.isQuery?(o.preventDefault(),i("updateQuery",d.value[t])):(l.push(u.value[t].link),b())}}}),ne([s,p],()=>{var o;(o=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||o.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:n.queries.length?!A.value:!L.value}]},n.queries.length?D.value?e(ae,{hint:a.value.searching}):A.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},g.value.map(({title:o,contents:t},c)=>{const r=s.value===c;return e("div",{class:["slimsearch-record",{active:r}],role:"group","aria-selected":r},[e("div",{class:"slimsearch-record-title"},o||a.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},t.map((h,W)=>{const E=r&&p.value===W;return e("li",{class:["slimsearch-record-matches",{active:E}],role:"option","aria-selected":E},e(I,{to:S(h),onClick:()=>{x(n.queries.join(" ")),k(h),b()}},()=>[h.type==="text"?null:e(h.type==="title"?me:h.type==="heading"?ie:le,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[h.type==="text"&&h.header?e("div",{class:"slimsearch-record-content-header"},h.header):null,e("div",J(h))])]))}))])})):a.value.emptyResult:L.value?[K(),V()]:a.value.emptyHistory)}});export{Ae as default};
