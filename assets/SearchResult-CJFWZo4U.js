import{e as N,u as X,f as P,g as Z,j as ee,t as se,h as oe,i as S,k as w,l as e,m as te,w as ae,s as ie,R as I,n as ne,p as le,q as me,v as re,x as he,y as T,z as $,A as de,B as ue,C as pe,D as ce,L as ge,E as ye,F as xe,G as fe,H as M,I as ve,J as z}from"./app-C42_SEoT.js";const be=["/","/intro.html","/posts/tomato.html","/posts/notes/2025-02-03-lmxxf-zezha2-moive-thinking.html","/posts/notes/2025-02-04-lmxxf-ai-chinese-dead-history.html","/posts/notes/2025-02-04-lmxxf-ai-find-the-goal-of-life.html","/posts/notes/2025-02-04-lmxxf-ai-fuyou.html","/posts/notes/2025-02-04-lmxxf-ai-go-and-why-we-lost-jobs.html","/posts/notes/2025-02-04-lmxxf-ai-good-bad-standard.html","/posts/notes/2025-02-04-lmxxf-ai-how-to-achieve-goal.html","/posts/notes/2025-02-04-lmxxf-ai-how-to-avoid-worry.html","/posts/notes/2025-02-04-lmxxf-ai-junzhihuigui.html","/posts/notes/2025-02-04-lmxxf-ai-law.html","/posts/notes/2025-02-04-lmxxf-ai-poem-libai.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-lihongzhang.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-linzexu.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-zengguofan.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-zhangzhidong.html","/posts/notes/2025-02-04-lmxxf-ai-qingchaodachen-zuozongtang.html","/posts/notes/2025-02-04-lmxxf-ai-the-least-person.html","/posts/notes/2025-02-04-lmxxf-ai-the-way-not-select.html","/posts/notes/2025-02-04-lmxxf-ai-tx-38-special-day.html","/posts/notes/2025-02-04-lmxxf-ai-tx-yuanbao.html","/posts/notes/2025-02-04-lmxxf-ai-why-big-car-turn-right-need-stop.html","/posts/notes/2025-02-04-lmxxf-ai-why-we-forget.html","/posts/notes/2025-02-04-lmxxf-ai-zuiyouzhitinglilun.html","/posts/notes/2025-02-04-lmxxf-tech-view-world-road-and-lock.html","/posts/notes/2025-02-12-lmxxf-chinese-festival-yuanxiaojie.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-00-overview.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-01-user-analysis.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-02-competive-product-analysis.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-03-super-symbols.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-04-visual-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-05-content-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-06-channel-wechat-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-07-channel-video-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-08-channel-techs-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-09-channel-underline-online-improve.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-10-fission-sprint-system.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-11-fission-sprint-break-border.html","/posts/fans/2025-02-04-how-to-improve-fensi-numbers-12-fission-sprint-data-drive.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-01-intro.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-02-basic-component.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-03-cycle-confirm.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-04-person-ability.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-05-software-company-ability.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-06-core-ability.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-07-input-board.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-08-input-depth.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-09-input-qa.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-01-input-methods-divides-sources.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-02-input-methods-filter.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-03-input-methods-meta-monitor.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-10-input-ganzhili.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-11-handle-think-model.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-20-output-types.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-21-output-influence.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-22-output-execute-improve.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-23-close-cycle.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-30-think-model-first-principles.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-31-think-model-criticle-thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-32-think-model-meta.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-33-think-model-cause-mapping.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-34-think-model-system-thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-35-think-model-system-kg.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-36-think-model-mind-map.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-37-think-model-Hypothesis-Driven-Thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-38-think-model-cause-chain-analysis.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-39-think-model-Bayesian-Thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-40-think-model-Pyramid%20Principle.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-41-think-model-framework-thinking.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-42-think-model-data-visual.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-43-think-model-actional-output.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-44-think-model-PDCA.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-45-think-model-review.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-46-think-model-CI.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-47-think-model-DAMIC.html","/posts/methodsandmodel/2025-08-15-life-open-your-eyes-48-think-model-20-vs-80.html","/posts/xmbiz/2025-02-05-xiaomashangtu-123-hangye.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-antifragile-all-jobs.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-marry-fuxk-the-disadvantange-of-marry.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-marry-the-advantange-of-marry.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-product-how-to-buy-for-your-girlfriend.html","/posts/xmbiz/2025-02-05-xiaomashangtu-ai-masiluo-product-why-books-is-cheap.html","/posts/xmbiz/2025-02-05-xiaomashangtu-biz-eye-to-see-masiluo-theory.html","/posts/xmbiz/2025-02-05-xiaomashangtu-biz-eye-to-see-masiluo-work-category.html","/posts/xmbiz/2025-02-05-xiaomashangtu-mvp.html","/posts/xmbiz/2025-02-05-xiaomashangtu-online-shopping-no-inventory-model.html","/posts/xmbiz/2025-02-05-xiaomashangtu-online-shopping-plateform-select.html","/posts/xmbiz/2025-02-05-xiaomashangtu-online-shopping-product-items-select.html","/posts/xmbiz/2025-02-05-xiaomashangtu-product-all-lifecycle.html","/posts/xmbiz/2025-02-05-xiaomashangtu-solve-problem-good-better-best.html","/posts/xmbiz/2025-02-05-xiaomashangtu-solve-problem-so-get-money.html","/posts/xmreading/2025-02-09-5min-read-books-000-how-to-read-booking-notes.html","/posts/xmreading/2025-02-09-5min-read-books-000-reading-publish-plateform.html","/posts/xmreading/2025-02-09-5min-read-books-000-top200.html","/posts/xmreading/2025-02-09-5min-read-books-001-changandelizhi-10-sentence.html","/posts/xmreading/2025-02-09-5min-read-books-002-three-body.html","/posts/xmreading/2025-02-09-5min-read-books-003-mingchaonaxieshi.html","/posts/xmreading/2025-02-09-5min-read-books-004-huozhe.html","/posts/xmreading/2025-02-09-5min-read-books-005-pingfandeshijie.html","/posts/xmreading/2025-02-09-5min-read-books-006-zhuifengzhengderen.html","/posts/xmreading/2025-02-09-5min-read-books-007-nanjingdatusha.html","/posts/xmreading/2025-02-09-5min-read-books-008-shasiyizhizhigengniao.html","/posts/xmreading/2025-02-09-5min-read-books-009-bailuyuan.html","/posts/xmreading/2025-02-09-5min-read-books-010-baiyexing.html","/posts/xmreading/2025-02-09-5min-read-books-011-womensan.html","/posts/xmreading/2025-02-09-5min-read-books-012-xiaowangzi.html","/posts/xmreading/2025-02-09-5min-read-books-013-yigexiaoouweidenanrenjuedingqusi.html","/posts/xmreading/2025-02-09-5min-read-books-014-zhishenshinei.html","/posts/xmreading/2025-02-09-5min-read-books-015-juejiao.html","/posts/xmreading/2025-02-09-5min-read-books-016-weicheng.html","/posts/xmreading/2025-02-09-5min-read-books-017-hamaxianshengqukanxinliyisheng.html","/posts/xmreading/2025-02-09-5min-read-books-018-xiangeiaerjinongdehuashu.html","/posts/xmreading/2025-02-09-5min-read-books-019-renzhijuexing.html","/posts/xmreading/2025-02-09-5min-read-books-020-banxiaoshimanhuashiji.html","/posts/xmreading/2025-02-09-5min-read-books-021-xusanguanmaixueji.html","/posts/xmreading/2025-02-09-5min-read-books-022-woyuditan.html","/posts/xmreading/2025-02-09-5min-read-books-023-damingwangchao1566.html","/posts/xmreading/2025-02-09-5min-read-books-024-shengsipilao.html","/posts/xmreading/2025-02-09-5min-read-books-025-hongloumeng.html","/posts/xmreading/2025-02-09-5min-read-books-026-shuihuzhuan.html","/posts/xmreading/2025-02-09-5min-read-books-027-sanguoyanyi.html","/posts/xmreading/2025-02-09-5min-read-books-028-mingyun.html","/posts/xmreading/2025-02-09-5min-read-books-029-xidaduo.html","/posts/xmreading/2025-02-09-5min-read-books-030-shenghuomengtaiqi.html","/posts/xmreading/2025-02-09-5min-read-books-031-qiuyuan.html","/posts/xmreading/2025-02-09-5min-read-books-032-jidushanbojue.html","/posts/xmreading/2025-02-09-5min-read-books-033-daikedeshelishidarendexinzang.html","/posts/xmreading/2025-02-09-5min-read-books-034-bainiangudu.html","/posts/xmreading/2025-02-09-5min-read-books-035-taibaijinxingyoudianfan.html","/posts/xmreading/2025-02-09-5min-read-books-036-yexunizhengaizhaogerenliaoliao.html","/posts/xmreading/2025-02-09-5min-read-books-037-muguang.html","/posts/xmreading/2025-02-09-5min-read-books-038-qiuzhuangsandian.html","/posts/xmreading/2025-02-09-5min-read-books-039-rensheng.html","/posts/xmreading/2025-02-09-5min-read-books-040-fangsiqidechulianleyuan.html","/posts/xmreading/2025-02-09-5min-read-books-041-renleijianshi.html","/posts/xmreading/2025-02-09-5min-read-books-042-beicanshijie.html","/posts/xmreading/2025-02-09-5min-read-books-043-hamuleite.html","/posts/xmreading/2025-02-09-5min-read-books-044-eyi.html","/posts/xmreading/2025-02-09-5min-read-books-045-fazhidexijie.html","/posts/xmreading/2025-02-09-5min-read-books-046-renshenghaihai.html","/posts/xmreading/2025-02-09-5min-read-books-047-daishangtadeyanjing.html","/posts/xmreading/2025-02-09-5min-read-books-048-chushijianzhuan.html","/posts/xmreading/2025-02-09-5min-read-books-049-beitaoyandeyongqi.html","/posts/xmreading/2025-02-09-5min-read-books-050-xiangxin.html","/posts/xmreading/2025-02-09-5min-read-books-999-antifragile.html","/posts/xmreading/2025-02-09-5min-read-books-tips-01-improve-fensi-to-100.html","/posts/xmreading/2025-02-09-5min-read-books-tips-02-to-make-it-funny.html","/404.html","/posts/","/posts/notes/","/posts/fans/","/posts/methodsandmodel/","/posts/xmbiz/","/posts/xmreading/","/category/","/category/%E8%94%AC%E8%8F%9C/","/category/lmxxf/","/category/fans/","/category/life/","/category/business/","/category/reading/","/tag/","/tag/test/","/tag/life/","/tag/note/","/tag/sh/","/tag/ai/","/tag/person/","/tag/tech-view/","/tag/cross-view/","/tag/reading/","/tag/book/","/tag/5min/","/tag/career-planning/","/tag/biz/","/article/","/star/","/timeline/"],ke="SLIMSEARCH_QUERY_HISTORY",x=M(ke,[]),we=()=>{const{queryHistoryCount:a}=z;return{enabled:a>0,queryHistories:x,addQueryHistory:m=>{x.value=Array.from(new Set([m,...x.value.slice(0,a-1)]))},removeQueryHistory:m=>{x.value=[...x.value.slice(0,m),...x.value.slice(m+1)]}}},D=a=>be[a.id]+("anchor"in a?`#${a.anchor}`:""),ze="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:F}=z,f=M(ze,[]),qe=()=>({enabled:F>0,resultHistories:f,addResultHistory:l=>{{const m={link:D(l),display:l.display};"header"in l&&(m.header=l.header),f.value=[m,...f.value.slice(0,F-1)]}},removeResultHistory:l=>{f.value=[...f.value.slice(0,l),...f.value.slice(l+1)]}}),je=a=>{const l=de(),m=P(),q=ue(),i=S(0),v=w(()=>i.value>0),d=pe([]);return ce(()=>{const{search:j,terminate:c}=ge(),b=xe(g=>{const{resultsFilter:H=t=>t,querySplitter:y,suggestionsFilter:A,...n}=l.value;g?(i.value+=1,j(g,m.value,n).then(t=>H(t,g,m.value,q.value)).then(t=>{i.value-=1,d.value=t}).catch(t=>{console.warn(t),i.value-=1,i.value||(d.value=[])})):d.value=[]},z.searchDelay-z.suggestDelay,{maxWait:5e3});ye([a,m],([g])=>b(g.join(" "))),fe(()=>{c()})}),{isSearching:v,results:d}};var Ce=N({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:l}){const m=X(),q=P(),i=Z(ee),{addQueryHistory:v,queryHistories:d,removeQueryHistory:j}=we(),{resultHistories:c,addResultHistory:b,removeResultHistory:g}=qe(),H=se(a,"queries"),{results:y,isSearching:A}=je(H),n=oe({isQuery:!0,index:0}),t=S(0),u=S(0),L=w(()=>d.value.length>0||c.value.length>0),C=w(()=>y.value.length>0),Q=w(()=>y.value[t.value]||null),U=()=>{const{isQuery:s,index:o}=n;o===0?(n.isQuery=!s,n.index=s?c.value.length-1:d.value.length-1):n.index=o-1},_=()=>{const{isQuery:s,index:o}=n;o===(s?d.value.length-1:c.value.length-1)?(n.isQuery=!s,n.index=0):n.index=o+1},B=()=>{t.value=t.value>0?t.value-1:y.value.length-1,u.value=Q.value.contents.length-1},O=()=>{t.value=t.value<y.value.length-1?t.value+1:0,u.value=0},Y=()=>{u.value<Q.value.contents.length-1?u.value+=1:O()},G=()=>{u.value>0?u.value-=1:B()},R=s=>s.map(o=>ve(o)?o:e(o[0],o[1])),J=s=>{if(s.type==="customField"){const o=re[s.index]||"$content",[p,r=""]=he(o)?o[q.value].split("$content"):o.split("$content");return s.display.map(h=>e("div",R([p,...h,r])))}return s.display.map(o=>e("div",R(o)))},k=()=>{t.value=0,u.value=0,l("updateQuery",""),l("close")},V=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},i.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},d.value.map((s,o)=>{const p=n.isQuery&&n.index===o;return e("li",{class:["slimsearch-record-matches",{active:p}],role:"option","aria-selected":p,onClick:()=>{l("updateQuery",s)}},e("div",[e(T,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},s),e("button",{type:"button",class:"slimsearch-remove-icon",title:i.value.remove,"aria-label":i.value.remove,innerHTML:$,onClick:r=>{r.preventDefault(),r.stopPropagation(),j(o)}})]))}))])),W=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},i.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},c.value.map((s,o)=>{const p=!n.isQuery&&n.index===o;return e("li",{class:["slimsearch-record-matches",{active:p}],role:"option","aria-selected":p},e(I,{to:s.link,onClick:()=>{k()}},()=>[e(T,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[s.header?e("div",{class:"slimsearch-record-content-header"},s.header):null,e("div",s.display.map(r=>R(r)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:i.value.remove,"aria-label":i.value.remove,innerHTML:$,onClick:r=>{r.preventDefault(),r.stopPropagation(),g(o)}})]))}))]));return te("keydown",s=>{if(a.isFocusing){if(C.value){if(s.key==="ArrowUp")G();else if(s.key==="ArrowDown")Y();else if(s.key==="Enter"){const o=Q.value.contents[u.value];v(a.queries.join(" ")),b(o),m.push(D(o)),k()}}else if(s.key==="ArrowUp")U();else if(s.key==="ArrowDown")_();else if(s.key==="Enter"){const{index:o}=n;n.isQuery?(s.preventDefault(),l("updateQuery",d.value[o])):(m.push(c.value[o].link),k())}}}),ae([t,u],()=>{var s;(s=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||s.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:a.queries.length?!C.value:!L.value}]},a.queries.length?A.value?e(ie,{hint:i.value.searching}):C.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},y.value.map(({title:s,contents:o},p)=>{const r=t.value===p;return e("div",{class:["slimsearch-record",{active:r}],role:"group","aria-selected":r},[e("div",{class:"slimsearch-record-title"},s||i.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},o.map((h,K)=>{const E=r&&u.value===K;return e("li",{class:["slimsearch-record-matches",{active:E}],role:"option","aria-selected":E},e(I,{to:D(h),onClick:()=>{v(a.queries.join(" ")),b(h),k()}},()=>[h.type==="text"?null:e(h.type==="title"?ne:h.type==="heading"?le:me,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[h.type==="text"&&h.header?e("div",{class:"slimsearch-record-content-header"},h.header):null,e("div",J(h))])]))}))])})):i.value.emptyResult:L.value?[V(),W()]:i.value.emptyHistory)}});export{Ce as default};
